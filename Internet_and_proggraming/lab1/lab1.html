<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лаб1</title>
</head>

<body>
    <h2><a href="../index1.html">Назад до меню лаборатних робіт</a></h2>
    <h3> Завдання 1.</H3>
    <p> Це звичайний HTML абзац.</p>
    <script language="JavaScript">
        document.write("Привіт! Мене звати Романюк Максим Юрійович., студент групи ІПЗ-23.")
    </script>
    <p>Знову звичайний HTML абзац.</p>
    <form>
        <input type="button" value="Click me" onClick="alert('Я народився 23.10.2006 року в місті Івано-Франківськ ')">
    </form>

    <h3> Завдання 2.</h3>
    <img src="./img/task2.png" alt="task2">
    <script language="JavaScript">
        function calculation() {
            let x = 4;
            let result = Math.pow(x, -0.5);
            alert("F = x^(-0.5) = " + result);
        }
    </script>
    <form>
        <input type="button" value="Розрахувати" onClick="calculation()">
    </form>

    <h3>Завдання 3.</h3>
    <script language="JavaScript">
        function fun(a) {
            main_form.t_res.value = a;
        }
    </script>
    <img src="./img/task3.png" alt="task3">
    <form name="main_form">
        <input type="text" size="50" value="Виділіть цей текст або наведіть миш"
            onSelect="fun('В текстовому полі форми виділений текст');"
            onMouseOut="fun('Курсор покинув текстове поле');">
        <input type="text" size="50" id="t_res">
    </form>

    <h3>Завдання 4.</h3>
    <script language="JavaScript">
        function funer() {
            let x, y, F;
            x = parseFloat(main_form1.t_x.value);
            y = parseFloat(main_form1.t_y.value);
            if (2 * x / y, x * y != -100) F = Math.pow(x, 3) - 2 * x * y, x * y != 20; else
                F = Math.pow(x, 2) + 4;
            main_form1.t_F.value = "" + F;
        }
    </script>
    <img src="./img/task4.png" alt="task4">
    <form id="main_form1">
        x<input type="text" id="t_x" value="4"><br>
        y<input type="text" id="t_y" value="2"><br>
        F<input type="text" id="t_F" value=""><br>
        <input type="button" onClick="funer();" value="Розрахувати">
    </form>

    <h3>Завдання 5.</h3>
    <script language="JavaScript">
        function calc() {
            let x, y, sum = 0.0, i = 0, cur = 0.0;
            x = parseFloat(main_form5.t_x.value);
            y = parseFloat(main_form5.t_y.value);
            sum = 0.0;
            for (i = 2; i <= 7; i++) {
                let fact_i = 1;
                for (let j = 1; j <= i; j++) fact_i *= j;
                let fact_ip2 = fact_i;
                for (let j = i + 1; j <= i + 2; j++) fact_ip2 *= j;
                cur = Math.pow(-1, i) * ((fact_i - 2 * x * y) / fact_ip2);
                sum += cur;
            }
            main_form5.t_c.value = "" + sum;
        }
    </script>

    <img src="./img/task5.png" alt="task5">
    <form id="main_form5">
        x=<input type="text" id="t_x" name="t_x" value="1"><br>
        y=<input type="text" id="t_y" name="t_y" value="1"><br>
        Результат:<input type="text" id="t_c" name="t_c" value=""><br>
        <input type="button" onClick="calc();" value="Розрахувати">
    </form>

    <h3>Завдання 6 та 7</h3>
    <script language="JavaScript">
        let products = ["Ручка", "Рюкзак", "Ролик"];
        let quantities = [105, 20, 50];
        let costs = [10.5, 250.0, 40.0];

        let currentIndex = -1;

        function fun1() {
            const selectedIndex = document.form1.product_select.selectedIndex;
            if (selectedIndex === 0) {
                document.form1.q.value = "";
                document.form1.c.value = "";
                currentIndex = -1;
                alert("Оберіть товар зі списку.");
                return;
            }

            currentIndex = selectedIndex - 1;
            document.form1.q.value = quantities[currentIndex];
            document.form1.c.value = costs[currentIndex];
        }

        function fun2() {
            if (currentIndex < 0) {
                alert("Спочатку оберіть товар зі списку.");
                return;
            }
            const total = quantities[currentIndex] * costs[currentIndex];
            document.form1.total.value = "Загальна сума: " + total;
        }

        function buy() {
            if (currentIndex < 0) {
                alert("Оберіть товар зі списку!");
                return;
            }

            let quantity = parseInt(document.form1.quantities.value);

            if (isNaN(quantity) || quantity <= 0) {
                alert("Введіть правильну кількість!");
                return;
            }

            if (quantity > quantities[currentIndex]) {
                alert("На складі тільки " + quantities[currentIndex] + " шт.");
                return;
            }

            let total = (costs[currentIndex] * quantity).toFixed(2);
            alert("Ви купили " + quantity + " шт. товару '" + products[currentIndex] + "' на суму " + total);
        }
    </script>

    <form name="form1">
        Оберіть товар:
        <select name="product_select">
            <option value="">-- Оберіть товар --</option>
            <option value="Ручка">Ручка</option>
            <option value="Рюкзак">Рюкзак</option>
            <option value="Ролик">Ролик</option>
        </select>
        <br><br>
        <input type="button" value="Наявна кількість і вартість" onclick="fun1()">
        <br><br>
        Кількість на складі: <input type="text" name="q" readonly>
        <br>
        Вартість за одиницю: <input type="text" name="c" readonly>
        <br><br>
        <input type="button" value="Загальна сума" onclick="fun2()">
        <br><br>
        <input type="text" name="total" readonly>
        <br><br>
        <input type="text" name="quantities" placeholder="Введіть кількість">
        <input type="button" value="Купити" onclick="buy()">
    </form>
</body>

</html>